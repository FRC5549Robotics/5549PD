<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>FRC 5549 PD - Code Structure</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
        <div id="wrapper">

            <!-- Main -->
            <div id="main">
                <div class="inner">

                    <!-- Header -->
                    <header id="header">
                        <h3><a href="https://www.frc5549.org/" target="_blank" class="logo"><strong>FRC 5549</strong></a> | <a href="index.html">Programming Division</a></h3>
                    <!-- Social -->
                        <ul class="icons">
                            <li><a href="https://www.instagram.com/team5549/" target="_blank" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
                            <li><a href="https://twitter.com/team_5549" target="_blank" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                            <li><a href="https://www.youtube.com/channel/UC5XEPfs11Xf4ZjbVung9oVQ" target="_blank" class="icon brands fa-youtube"><span class="label">YouTube</span></a></li>
                            <li><a href="https://www.snapchat.com/add/team5549" target="_blank" class="icon brands fa-snapchat-ghost"><span class="label">Snapchat</span></a></li>
                            <li><a href="https://github.com/FRC5549Robotics" target="_blank" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                        </ul>
                    </header>

                    <!-- Content -->
                    <section>
                        <header class="main">
                            <h2>Chapter 3.1: Basic Structure</h2>
                        </header>
                        
                        <p>RobotPy programs follow a specific code structure that acts as the base of any FRC robot code. The code is sectioned into functions that are called by FMS (Field Management System) when the Driver Station is connected to the field through the ethernet cable at the competitions. However, you can manually call each section through the Driver Station software outside of competitions and during test phases.</p>


                        <h3>Robot Initialization</h3>
                        <p>Called upon robot startup and should be used for constructing robot objects such as motors and sensors. Variables that are used in other functions should also go here.</p>

                        <h3>Autonomous Initialization</h3>
                        <p>Called at the start of the autonomous period. Should be used for actions that need to be initialized specifically for the autonomous phase such as starting the timer and resetting sensor data.</p>

                        <h3>Autonomous Periodic</h3>
                        <p>Called periodically during the autonomous phase. Actions such as robot movement that only happen during autonomous phase should be placed here.</p>

                        <h3>Teleop Initialization</h3>
                        <p>Called during the start of teleoperated phase. Should be used for actions that need to be initialized or happen only once before teleop takes place.</p>

                        <h3>Teleop Periodic</h3>
                        <p>Called periodically during the teleoperated phase and should be utilized for robot movement and data collection from sensors that happen during teleop phase.</p>

			            <p>**Note: There are more functions and code sections but these are the basic ones that will get you started on your path to program a functional FRC robot.</p>

                        <pre><code>
''' import statements go at the top of the program '''
import wpilib


class MyRobot(wpilib.TimedRobot):
    ''' robot program starts here '''
    def robotInit(self):
        ''' function that is run at the beginning of the match '''
        pass

    def autonomousInit(self):
        ''' function that is run at the beginning of the autonomous phase '''
        pass

    def autonomousPeriodic(self):
        ''' function that is run periodically during the autonomous phase '''
        pass

    def teleopInit(self):
        ''' function that is run at the beginning of the tele-operated phase '''
        pass

    def teleopPeriodic(self):
        ''' function that is run periodically during the tele-operated phase '''
        pass


if __name__ == '__main__':
    ''' running the entire robot program '''
    wpilib.run(MyRobot)

                                    </code></pre>

                        <p><b>Code 3.1:</b> This is basic code struture for FRC programming. At the top of the program, the WPI library is imported which allows the other functions to be recognized. <code>def</code> declares a function under the overall class called MyRobot. As explained later, <code>self</code> allows us to turn variables into global ones that are recognized in other functions.</p>

                    </section>

                    <!-- Content -->
                    <section>
                        <header class="main">
                            <h2>Chapter 3.2: File Structure</h2>
                        </header>
                        
                        <p>While it is possible to write all code in just robot.py, it is recommended to split up the code into subsystems. 
                           This allows for the code to be more organized and readable. In addition, variables will only need to be change in one location as 
                           opposed to multiple locations. </p>

                        <p>
                           This is an example of a structure that could be used.
                        </p>

                        <pre><code>
main/
    components/
        drive.py
        vision.py
        dashboard.py
        subsystem1.py
        subsystem2.py
        subsystem3.py
    robot.py
    README.txt
                        </code></pre>

                        <p>Inside of these files, make a class. For example, drive.py would have a Drive class. Inside of that class, make functions. For example, 
                            forward. Now, this file can be imported into robot.py using <code>import components/drive.py</code>. Once imported, just call the function in robot.py using 
                            <code>self.drive.forward()</code>. 
                        </p>

                        <pre><code>
import wpilib

class Drive(self):
    def robotInit(self):
        pass

    def forward(self):
        pass
                        </code></pre>

                        <p><b>Code 3.2:</b> This is an example of a file in the components folder. Variables may also be passed into the function if needed.</p>


                        <hr class="major" />

                        <p><i><b>Chapter resources:</b> <a href="https://frc-pdr.readthedocs.io/en/latest/GoodPractices/structure.html" target="_blank">Code Structure</a></i></p>
                        <ul class="actions">
                            <li><a href="overview-of-software.html" class="button large">Previous Chapter</a></li>
                            <li><a href="motor-control.html" class="button large">Next Chapter</a></li>
                        </ul>

                    </section>
                </div>
            </div>

            

				<!-- Sidebar -->
                <div id="sidebar">
                    <div class="inner">

                        <!-- Menu -->
                        <nav id="menu">
                            <header class="major">
                                <h2>Table of Contents</h2>
                            </header>
                            <ul>
                                <li><a href="index.html">Introduction</a></li>
                                <li><a href="overview-of-software.html">Overview of Software</a></li>
                                <li>-> Code Structure</li>
                                <li>
                                    <span class="opener">Robot Motion</span>
                                    <ul>
                                        <li><a href="motor-control.html">Motor Control</a></li>
                                        <li><a href="pneumatics.html">Pneumatics</a></li>
                                    </ul>
                                </li>
                                <li><a href="joystick-utilities.html">Joystick Utilities</a></li>
                                <li>
                                    <span class="opener">Sensors</span>
                                    <ul>
                                        <li><a href="gyro.html">Gyro</a></li>
                                        <li><a href="encoder.html">Encoder</a></li>
                                        <li><a href="ultrasonic.html">Ultrasonic</a></li>
                                        <li><a href="limit-switch.html">Limit Switch</a></li>
                                    </ul>
                                </li>
                                <li><a href="pid-control.html">PID Control</a></li>
                                <li><a href="deploying-&-testing.html"> Deploying & Testing</a></li>
                                <li><a href="using-a-dashboard.html">Using a Dashboard</a></li>
                                <li><a href="general-troubleshooting.html">General Troubleshooting</a></li>
                                <li><a href="further-resources.html">Further Resources</a></li>
                            </ul>
                        </nav>

                        <!-- Section -->
                        <section>
                            <header class="major">
                                <h2>Get in touch</h2>
                            </header>
                            <p>Please feel free to let us know if you have any questions, concerns, and/or suggestions for content.</p>
                            <ul class="contact">
                                <li class="icon solid fa-envelope"><a href="#">info@frc5549.org</a></li>
                                <li class="icon solid fa-home">
                                    7731 Leesburg Pike<br />
                                    Falls Church, VA 22043
                                </li>
                            </ul>
                        </section>

                        <!-- Footer -->
                        <footer id="footer">
                            <p class="copyright">&copy; FRC 5549 Gryphon Robotics. All rights reserved. Demo Images: <a href="https://unsplash.com">Unsplash</a>. Design: <a href="https://html5up.net" target="_blank">HTML5 UP</a>.</p>
                        </footer>

                    </div>
                </div>
        </div>

    <!-- Scripts -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/browser.min.js"></script>
        <script src="assets/js/breakpoints.min.js"></script>
        <script src="assets/js/util.js"></script>
        <script src="assets/js/main.js"></script>

</body>
</html>
